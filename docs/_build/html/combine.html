

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Combine methods &mdash; timeseriesjl 0.2.2 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/julia.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/julia.css" type="text/css" />
  
    <link rel="top" title="timeseriesjl 0.2.2 documentation" href="index.html"/>
        <link rel="next" title="Read method" href="readwrite.html"/>
        <link rel="prev" title="Apply methods" href="apply.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="http://julialang.org/"><img src="_static/julia-logo.svg" class="logo"></a>
        <!--
        <a href="index.html" class="fa fa-home"> timeseriesjl</a>
        -->
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="timearray.html">The TimeArray time series type</a></li>
<li class="toctree-l1"><a class="reference internal" href="indexing.html">Array indexing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="indexing.html#integers">Integers</a></li>
<li class="toctree-l2"><a class="reference internal" href="indexing.html#strings">Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="indexing.html#date-and-datetime">Date and DateTime</a></li>
<li class="toctree-l2"><a class="reference internal" href="indexing.html#mixed-approach">Mixed approach</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="split.html">Split methods: bracketing by time or boolean array</a><ul>
<li class="toctree-l2"><a class="reference internal" href="split.html#by">by</a></li>
<li class="toctree-l2"><a class="reference internal" href="split.html#from">from</a></li>
<li class="toctree-l2"><a class="reference internal" href="split.html#to">to</a></li>
<li class="toctree-l2"><a class="reference internal" href="split.html#findwhen">findwhen</a></li>
<li class="toctree-l2"><a class="reference internal" href="split.html#findall">findall</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="apply.html">Apply methods</a><ul>
<li class="toctree-l2"><a class="reference internal" href="apply.html#lag">lag</a></li>
<li class="toctree-l2"><a class="reference internal" href="apply.html#lead">lead</a></li>
<li class="toctree-l2"><a class="reference internal" href="apply.html#percentchange">percentchange</a></li>
<li class="toctree-l2"><a class="reference internal" href="apply.html#moving">moving</a></li>
<li class="toctree-l2"><a class="reference internal" href="apply.html#upto">upto</a></li>
<li class="toctree-l2"><a class="reference internal" href="apply.html#basecall">basecall</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Combine methods</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#merge">merge</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collapse">collapse</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="readwrite.html">Read method</a><ul>
<li class="toctree-l2"><a class="reference internal" href="readwrite.html#readtimearray">readtimearray</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dotfile.html">Customize how TimeArray is displayed</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dotfile.html#decimals">DECIMALS</a></li>
<li class="toctree-l2"><a class="reference internal" href="dotfile.html#showint">SHOWINT</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">timeseriesjl</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Combine methods</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/combine.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="combine-methods">
<h1>Combine methods<a class="headerlink" href="#combine-methods" title="Permalink to this headline">¶</a></h1>
<p>TimeSeries supports merging two TimeArrays, and squishing the timestamp to a longer-term interval while representing values
that make sense.</p>
<div class="section" id="merge">
<h2>merge<a class="headerlink" href="#merge" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">merge</span></tt> method only performs inner joins on two TimeArrays. The resulting TimeArray contains only timestamps that both
TimeArrays share, and values that correspond to that timestamp.</p>
<p>The AAPL object from MarketData has 8,336 rows of data from Dec 12, 1980 to Dec 31, 2013. If we merge it with the CAT object, which
contains 13,090 rows of data from Jan 2, 1962 to Dec 31, 2013 we might expect the resulting TimeArray to have 8,336 rows of
data, corresponding to the length of AAPL. This assumes that every day that Apple Computer, Inc. traded, Caterpillar, Inc likewise
traded. It turns out that this isn&#8217;t true. CAT did not trade on Sep 27, 1985 because Hurricane Glorio shut down the New York
Stock Exchage. Apple Computer trades on the electronic NASDAQ and its trading was not halted on that day. The result of the merge
should then be 8,335 rows:</p>
<div class="highlight-julia"><div class="highlight"><pre><span class="n">julia</span><span class="o">&gt;</span> <span class="n">Caterapple</span> <span class="o">=</span> <span class="n">merge</span><span class="p">(</span><span class="n">AAPL</span><span class="p">,</span><span class="n">CAT</span><span class="p">);</span>

<span class="n">julia</span><span class="o">&gt;</span> <span class="n">length</span><span class="p">(</span><span class="n">Caterapple</span><span class="p">)</span>
<span class="mi">8335</span>
</pre></div>
</div>
<p>Currently, the <tt class="docutils literal"><span class="pre">merge</span></tt> method will not merge objects that have different values in the <tt class="docutils literal"><span class="pre">meta</span></tt> field. The APPL and CAT objects
have <tt class="docutils literal"><span class="pre">Void</span></tt> in their respective <tt class="docutils literal"><span class="pre">meta</span></tt> fields.</p>
</div>
<div class="section" id="collapse">
<h2>collapse<a class="headerlink" href="#collapse" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">collapse</span></tt> method allows for compressing data into a larger time frame. For example, converting daily data into monthly data.
When compressing dates, something rational has to be done with the values that lived in the more granular time frame. To define what
happens, a function call is made. In our example, we want to compress the daily <tt class="docutils literal"><span class="pre">cl</span></tt> closing prices from daily to monthly. It makes
sense for us to take the last value known and have that represented with the derived timestamp. The <tt class="docutils literal"><span class="pre">collapse</span></tt> keyword argument for
time frame is the <tt class="docutils literal"><span class="pre">week</span></tt> method, which is defined in Dates.jl. A list of valid time methods is presented below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Dates method</th>
<th class="head">Time length</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">day</span></tt></td>
<td>daily</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">week</span></tt></td>
<td>weekly</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">month</span></tt></td>
<td>monthly</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">year</span></tt></td>
<td>yearly</td>
</tr>
</tbody>
</table>
<p>Showing this code in REPL:</p>
<div class="highlight-julia"><div class="highlight"><pre>julia&gt; collapse(cl,last,period=month)
24x1 TimeSeries.TimeArray{Float64,1,DataType} 2000-01-31 to 2001-12-31

             Close
2000-01-31 | 103.75
2000-02-29 | 114.62
2000-03-31 | 135.81
2000-04-28 | 124.06
⋮
2001-09-28 | 15.51
2001-10-31 | 17.56
2001-11-30 | 21.3
2001-12-31 | 21.9
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="readwrite.html" class="btn btn-neutral float-right" title="Read method">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="apply.html" class="btn btn-neutral" title="Apply methods"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Multiple.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.2.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>